<!DOCTYPE html>
<html>
<head>
    <title>AI Image Predictor</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>

<div class="container">
    <h2>AI Image Classification</h2>

    <input type="file" id="imageInput" accept="image/*">
    <button onclick="predictImage()">Predict</button>

    <div id="result"></div>
    <img id="preview" style="max-width: 300px; margin-top: 20px;">
</div>

<script>
    function predictImage() {
        let file = document.getElementById("imageInput").files[0];
        if (!file) {
            alert("Please upload an image");
            return;
        }

        let formData = new FormData();
        formData.append("image", file);

        fetch("/predict", {
            method: "POST",
            body: formData
        })
        .then(res => res.json())
        .then(data => {
            document.getElementById("result").innerHTML =
                "<h3>Prediction: " + data.prediction + "</h3>";
        })
        .catch(err => console.log(err));
    }

    // Image preview
    document.getElementById("imageInput").onchange = function() {
        let file = this.files[0];
        document.getElementById("preview").src = URL.createObjectURL(file);
    };
</script>

</body>
</html>
